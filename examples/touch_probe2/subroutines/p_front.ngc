o<p_front> sub
o100 if [#<_hal[flexhal.probe_linear_units]> EQ 1]
	(debug, inch)
	G20
	#1020 = [[#<_hal[flexhal.probe_tip_diam]>/25.4]/2]
	#1021 = #<_hal[flexhal.probe_retract_dist]>
	#1022 = #<_hal[flexhal.probe_search_dist]>
	#1023 = #<_hal[flexhal.probe_final_dist]>
	G91 G38.2 F#<_hal[flexhal.probe_search_feed]> Y+#1022
	G90 G0 Y[#5062 - #1021]
	G91 G38.2 F#<_hal[flexhal.probe_fine_feed]> Y+[#1021 + 0.020]
	G90 G0 Y[#5062 - 0.2 + #1020]
	(debug,Spindle center is Y - 0.2 from the edge)
o100 else
	(debug, metric)
	G21
	#1020 = [#<_hal[flexhal.probe_tip_diam]>/2]
	#1021 = #<_hal[flexhal.probe_retract_dist]>
	#1022 = #<_hal[flexhal.probe_search_dist]>
	#1023 = #<_hal[flexhal.probe_final_dist]>
	G91 G38.2 F#<_hal[flexhal.probe_search_feed]> Y+#1022
	G90 G0 Y[#5062 - #1021]
	G91 G38.2 F#<_hal[flexhal.probe_fine_feed]> Y+[#1021 + 0.50]
	G90 G0 Y[#5062 - 5.0 + #1020]
	(debug,Spindle center is Y - 5mm from the edge)
o100 endif
o<p_front> endsub

M2
