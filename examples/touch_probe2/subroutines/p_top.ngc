o<p_top> sub
o100 if [#<_hal[flexhal.probe_LINEAR_UNITS]> EQ 1]
	(debug, inch)
	G20
	#1020 = [[#<_hal[flexhal.probe_TIP_DIAM]>/25.4]/2]
	#1021 = #<_hal[flexhal.probe_RETRACT_DIST]>
	#1022 = #<_hal[flexhal.probe_SEARCH_DIST]>
	#1023 = #<_hal[flexhal.probe_FINAL_DIST]>
	G91 G38.2 F#<_hal[flexhal.probe_SEARCH_FEED]> Z-#1022
	G90 G0 Z[#5063 + #1021]
	G91 G38.2 F#<_hal[flexhal.probe_FINE_FEED]> Z-[#1021 + 0.020]
	G90 G0 Z[#5063 + 0.2 - #1020]
	(debug,Probe tip is 0.2 above)
o100 else
	(debug, metric)
	G21
	#1020 = [#<_hal[flexhal.probe_TIP_DIAM]>/2]
	#1021 = #<_hal[flexhal.probe_RETRACT_DIST]>
	#1022 = #<_hal[flexhal.probe_SEARCH_DIST]>
	#1023 = #<_hal[flexhal.probe_FINAL_DIST]>
	G91 G38.2 F#<_hal[flexhal.probe_SEARCH_FEED]> Z-#1022
	G90 G0 Z[#5063 + #1021]
	G91 G38.2 F#<_hal[flexhal.probe_FINE_FEED]> Z-[#1021 + 0.50]
	G90 G0 Z[#5063 + 5.0 - #1020]
	(debug,Probe tip is 5.0mm above)
o100 endif
o<p_top> endsub

M2
